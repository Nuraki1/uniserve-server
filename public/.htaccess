<IfModule mod_passenger.c>
  PassengerEnabled on
  PassengerAppType node

  # IMPORTANT:
  # This .htaccess is meant to live in the *document root* (often `public/` for cPanel node apps).
  # It points Passenger to the real app root and startup file.
  PassengerAppRoot /home/etcodewx/uniserveapi.etcodex.com
  PassengerBaseURI /
  PassengerStartupFile dist/index.js
  PassengerNodejs /home/etcodewx/nodevenv/uniserveapi.etcodex.com/20/bin/node

  PassengerEnvVar NODE_ENV production
  PassengerEnvVar CLIENT_ORIGIN "https://uniserve.etcodex.com"
</IfModule>

Options -Indexes -MultiViews

# Serve static assets (like images) efficiently if they exist in this directory.
# Note: API CORS is handled in Node/Express. Do NOT add global CORS headers here.
<IfModule mod_headers.c>
  <FilesMatch "\.(?:png|jpe?g|gif|webp|svg|ico)$">
    Header set Cache-Control "public, max-age=31536000, immutable"
  </FilesMatch>
  <FilesMatch "\.(?:css|js)$">
    Header set Cache-Control "public, max-age=604800"
  </FilesMatch>
</IfModule>

<IfModule mod_mime.c>
  AddType image/webp .webp
  AddType image/svg+xml .svg
</IfModule>


